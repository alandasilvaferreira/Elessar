<!doctype html>
<html>
<head>
    <title></title>
    <script src="http://momentjs.com/downloads/moment.min.js"></script>
    <script src="http://code.jquery.com/jquery.min.js"></script>
    <script src="https://rawgithub.com/quarterto/Estira/master/index.js"></script>
    <script src="../dist/elessar.js"></script>
    <link rel="stylesheet" type="text/css" href="../elessar.css">
</head>
<body>

    <pre class="changing"></pre>

    <script>
        $('body').prepend(RangeBar({
            min: 0,
            max: 100,
            valueFormat: function (v) {
                return v;
            },
            valueParse: function (v) {
                return v;
            },
            values: [
              {
                start: 0,
                end: 20
              },
              {
                start: 50,
                end: 60
              },
              {
                start: 90,
                end: 100
              },
            ],
            label: function (a) { return JSON.stringify(a) },
            snap: 1,
            minSize: 1,
            bgLabels: 4,
            indicator: function (bar, indicator, recalc) {
                return null;
                //if (recalc) setInterval(recalc, 500);
                //return moment().hours(Math.floor(24 * Math.random())).format('LLLL');
            }
        }).on('changing', function (ev, ranges, changed) {
            console.log(changed);
            $('pre.changing').html(JSON.stringify(ranges, null, 2));
        }).on('change', function (ev, ranges, changed) {
            console.log(changed);
            $('pre.changing').after($('<pre>').html('changed' + JSON.stringify(ranges, null, 2)));
        }).$el);
</script>
</body>
</html>
